<!DOCTYPE html>

<head lang=en>
  <link rel="shortcut icon" href="#">
  <script src="https://d3js.org/d3.v6.min.js"></script>
  <script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>
  <script src="https://unpkg.com/d3-v6-tip@1.0.6/build/d3-v6-tip.js"></script>
  <script src="https://unpkg.com/d3-sankey@0.12.3/dist/d3-sankey.min.js"></script>

  <script src="scripts/worldmap.js"> </script>
  <script src="scripts/sankey.js"> </script>
  <title> World Map - Astronaut</title>
  <style>
    .node rect {
      fill-opacity: .9;
      shape-rendering: crispEdges;
    }

    .node text {
      pointer-events: none;
      text-shadow: 0 1px 0 #fff;
    }

    .link {
      fill: none;
      /* stroke: darkblue; */
      stroke-opacity: .3;
    }

    .link:hover {
      stroke-opacity: .7;
    }

    #map {
      background-color: lightsteelblue;
    }
  </style>
</head>

<body>
  <div id='map'> </div>
  <div id="my_dataviz">
  </div>
  <!-- <div align="center">
    <b>Layout alignment: </b>
    <input class="sankey-align" type="radio" name="sankey-align" value="d3.sankeyLeft"> Left &nbsp;
    <input class="sankey-align" type="radio" name="sankey-align" value="d3.sankeyCenter"> Center &nbsp;
    <input class="sankey-align" type="radio" name="sankey-align" value="d3.sankeyRight"> Right &nbsp;
    <input class="sankey-align" type="radio" name="sankey-align" value="d3.sankeyJustify" checked="checked"> Justify &nbsp;
  </div> -->
  <script>
    Promise.all([
      d3.json("data/worldmap.geo.json"),
      d3.json("data/Astronaut Cities.geo.json"),
      d3.csv("data/sankeyCompleteNoZero.csv")
      // Load sankey
    ]).then(([countries, astronautCities, sankeydata]) => {
      makeWorldMap(countries, astronautCities);
      makeSankey(sankeydata);
      // Should run sankey...
    });
  </script>

</body>
